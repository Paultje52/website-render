if("undefined"==typeof socketio){let t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js",document.getElementsByTagName("head")[0].appendChild(t)}if("undefined"==typeof jquery){let t=document.createElement("script");t.src="https://code.jquery.com/jquery-3.4.1.min.js",document.getElementsByTagName("head")[0].appendChild(t)}if(void 0===window.pages){let t=!1;if(window.showLoadingIndication){let e=document.createElement("div");e.style='display: block;position: absolute;top: 0;left: 0;z-index: 100;width: 100vw;height: 100vh;background-color: rgba(192, 192, 192, 0.5);background-image: url("https://i.stack.imgur.com/MnyxU.gif");background-repeat: no-repeat;background-position: center;',e.id="websiteRenderLoadingIcon",setTimeout(()=>{document.getElementsByTagName("body")[0].appendChild(e)},100),t=!0}window.pages={},window.pageTitles={};let e=!1;function wait(t){return new Promise(e=>{setTimeout(e,t)})}async function loaded(){let o,i=0,n=0;try{o=io(`http://${window.location.hostname}:${window.location.port}`)}catch(t){let e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js",document.getElementsByTagName("head")[0].appendChild(e),await wait(1e3),o=io(`http://${window.location.hostname}:${window.location.port}`)}o.emit("pages",!1),o.on("page",o=>{window.pages[o.url]=o.body,window.pageTitles[o.url]=o.title||!1,++n===i&&(t&&$("#websiteRenderLoadingIcon").remove(),console.log("Website fully rendered!"),e=!0)}),o.on("pages",t=>{$.ajax(`http://${window.location.hostname}:${window.location.port}/${t.testurl}?id=kjb4lt34uojk3b7&from=website-render`).done(e=>{e=e.id,t.array.forEach(t=>{o.emit("page",{path:t,id:e}),i++})})})}setTimeout(loaded,500);let o=[window.location.pathname];function WebsiteRenderButton(t="/",i=!0,n=!0){if(!window.pages[t]&&!i)return window.location.href=`http://${window.location.hostname}:${window.location.port}${t}`;if(window.pages[t])o.includes(t)&&(window.pages[t]=removeScripts(window.pages[t])),$("body").html(window.pages[t]),window.pages[t].includes("<title>")&&window.pages[t].includes("</title>")&&(document.title=window.pages[t].split("<title>")[1].split("</title>")[0]),window.pageTitles[t]&&(document.title=window.pageTitles[t]),n&&history.pushState(t,`${document.title} `,`http://${window.location.hostname}:${window.location.port}${t}`),o.push(t);else{let i=document.createElement("div");i.style='display: block;position: absolute;top: 0;left: 0;z-index: 100;width: 100vw;height: 100vh;background-color: rgba(192, 192, 192, 0.5);background-image: url("https://i.stack.imgur.com/MnyxU.gif");background-repeat: no-repeat;background-position: center;',document.title=`Loading ${t}`,$("body").append(i);let d=setInterval(()=>{if(e){if(clearTimeout(a),clearInterval(d),!window.pages[t])return window.location.href=`http://${window.location.hostname}:${window.location.port}${t}`;o.includes(t)&&(window.pages[t]=removeScripts(window.pages[t])),$("body").html(window.pages[t]),window.pages[t].includes("<title>")&&window.pages[t].includes("</title>")&&(document.title=window.pages[t].split("<title>")[1].split("</title>")[0]),window.pageTitles[t]&&(document.title=window.pageTitles[t]),n&&history.pushState(t,`${document.title} `,`http://${window.location.hostname}:${window.location.port}${t}`),o.push(t)}},250),a=setTimeout(()=>{window.location.href=`http://${window.location.hostname}:${window.location.port}${t}`},2500)}}function removeScripts(t){if(!t.includes("script"))return t;let e="",o=0,i=t=>{t.includes("<script>")&&(0===o&&(e+=t.split("<script>")[0]),o++,i(t.split("<script>").slice(1).join("<script>"))),t.includes("<\/script>")&&(t=t.split("<\/script>")[t.split("<\/script>").length-1],o--),o<=0&&(e+=t)};return i(t),e=e.split("<FORCESCRIPT>").join("<script>").split("</FORCESCRIPT>").join("</script>")}window.onpopstate=(()=>{history.state&&WebsiteRenderButton(history.state,!0,!1)})}else rendered=!0;